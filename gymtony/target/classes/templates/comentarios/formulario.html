<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nueva Reseña - GymTony</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/css/header.css">
    <link rel="stylesheet" href="/css/footer.css">
    <link rel="stylesheet" href="/css/formularios.css">
</head>
<body>

<!-- Header -->
<div th:replace="fragments/header :: header"></div>

<main class="container container-main">
    <div class="form-card">
        <h1 class="form-title">
            <i class="bi bi-chat-square-text"></i> Nueva Reseña
        </h1>        
        <form th:action="@{/comentarios/new}" th:object="${comentario}" method="post">
            <div class="mb-4">
                <label for="comentario" class="form-label">
                    <i class="bi bi-chat-left-text"></i> Comentario
                </label>
                <textarea id="comentario" class="form-control" 
                          th:field="*{comentario}" rows="5" required
                          placeholder="Escribe tu experiencia en la clase..."></textarea>
                <div class="invalid-feedback" th:if="${#fields.hasErrors('comentario')}" 
                     th:errors="*{comentario}">Error en el comentario</div>
            </div>
            
            <div class="mb-4">
                <label class="form-label">
                    <i class="bi bi-star-fill"></i> Calificación
                </label>
                <div class="rating-input">
                    <div class="star-rating">
                        <input type="radio" id="star5" name="calificacion" value="5" th:checked="*{calificacion == 5}">
                        <label for="star5" title="Excelente"><i class="bi bi-star-fill"></i></label>
                        <input type="radio" id="star4" name="calificacion" value="4" th:checked="*{calificacion == 4}">
                        <label for="star4" title="Muy bueno"><i class="bi bi-star-fill"></i></label>
                        <input type="radio" id="star3" name="calificacion" value="3" th:checked="*{calificacion == 3}">
                        <label for="star3" title="Bueno"><i class="bi bi-star-fill"></i></label>
                        <input type="radio" id="star2" name="calificacion" value="2" th:checked="*{calificacion == 2}">
                        <label for="star2" title="Regular"><i class="bi bi-star-fill"></i></label>
                        <input type="radio" id="star1" name="calificacion" value="1" th:checked="*{calificacion == 1}">
                        <label for="star1" title="Malo"><i class="bi bi-star-fill"></i></label>
                    </div>
                    <div class="invalid-feedback" th:if="${#fields.hasErrors('calificacion')}" 
                         th:errors="*{calificacion}">Selecciona una calificación</div>
                </div>
            </div>
            
            <div class="form-actions">
                <a th:href="@{/comentarios}" class="btn btn-outline-secondary btn-form">
                    <i class="bi bi-arrow-left"></i> Cancelar
                </a>
                <button type="submit" class="btn btn-primary btn-form">
                    <i class="bi bi-send-check"></i> Enviar Reseña
                </button>
            </div>
        </form>
    </div>
</main>

<!-- Footer -->
<div th:replace="fragments/footer :: footer"></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>